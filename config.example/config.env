# =============================================================================
# Pylon config.env
# =============================================================================
#
# Scripts always run on the same host as the service (North on North, South on South).
# PYLON_MODE: north | south | full — set by setup. full = both on same host.
# =============================================================================

# -----------------------------------------------------------------------------
# North (Orion + MongoDB)
# -----------------------------------------------------------------------------
# Orion Context Broker — NGSI-v2 API for entity state
ORION_PORT=1026
ORION_VERSION=4.1.0

# MongoDB — Orion stores entity data here. IOTA also uses it for device registry.
MONGO_DB_PORT=27017
MONGO_DB_VERSION=6.0

# Odoo — Orion subscription sends deviceStatus updates to this URL
# Same Docker network: odoo. Host: host.docker.internal. Elsewhere: <ip-or-hostname>
ODOO_HOST=odoo
ODOO_PORT=8069

# -----------------------------------------------------------------------------
# South (IoT Agent)
# -----------------------------------------------------------------------------
# IoT Agent for JSON — receives device measurements, forwards to Orion; receives commands from Orion
IOTA_JSON_VERSION=3.7.0
IOTA_NORTH_PORT=4041
IOTA_SOUTH_PORT=7896

# IOTA connects to Orion and Mongo. Full-stack: use Docker service names.
# South-only: set to North host IP (IOTA runs on different machine, must reach North)
IOTA_CB_HOST=orion
IOTA_MONGO_HOST=mongo-db

# -----------------------------------------------------------------------------
# FIWARE tenant (shared)
# -----------------------------------------------------------------------------
# FIWARE multi-tenancy: logical partition. All entities under same service share one namespace.
# Yardmaster API_KEY / service group must match. Keep "openiot" unless you have a reason to change.
FIWARE_SERVICE=openiot
FIWARE_SERVICEPATH=/
HEADER_CONTENT_TYPE="Content-Type: application/json"
HEADER_FIWARE_SERVICE="fiware-service: ${FIWARE_SERVICE}"
HEADER_FIWARE_SERVICEPATH="fiware-servicepath: ${FIWARE_SERVICEPATH}"
