# =============================================================================
# Pylon config.env
# =============================================================================
# Copy config.example to config, edit config/config.env.
# Run: docker compose --env-file config/config.env -f docker-compose.xxx.yml ...
# Logs: ./debug/logs.sh south iot-agent-json
#
# Migration: MONGO_DB_* split to MONGO_ORION_* (North) and MONGO_IOTA_* (South).
# =============================================================================

# -----------------------------------------------------------------------------
# Deployment
# -----------------------------------------------------------------------------
PYLON_MODE=full
PYLON_NETWORK_NAME=pylon-net

# =============================================================================
# North: Orion Context Broker + MongoDB (Orion's DB)
# =============================================================================

# Orion
ORION_PORT=1026
ORION_VERSION=4.1.0
ORION_LOG_LEVEL=DEBUG

# Orion's MongoDB (mongo-orion container)
MONGO_ORION_PORT=27017
MONGO_ORION_VERSION=6.0

# Odoo — Orion subscription callback
ODOO_HOST=host.docker.internal
ODOO_PORT=8069

# =============================================================================
# South: IoT Agent + MongoDB (IOTA's DB)
# =============================================================================

# IoT Agent (iot-agent-json)
IOTA_JSON_VERSION=3.7.0
IOTA_NORTH_PORT=4041
IOTA_SOUTH_PORT=7896
IOTA_LOG_LEVEL=DEBUG
IOTA_TIMESTAMP=true
IOTA_REGISTRY_TYPE=mongodb
IOTA_MQTT_DISABLED=true
IOTA_AMQP_DISABLED=true

# IOTA → Orion (CB_PORT aligns with ORION_PORT)
IOTA_CB_HOST=orion

# IOTA's MongoDB (mongo-iota container)
MONGO_IOTA_PORT=27017
MONGO_IOTA_VERSION=6.0
MONGO_IOTA_DB=iotagentjson
IOTA_MONGO_HOST=mongo-iota

# =============================================================================
# FIWARE tenant
# =============================================================================
FIWARE_SERVICE=lqs_iot
FIWARE_SERVICEPATH=/
HEADER_CONTENT_TYPE="Content-Type: application/json"
HEADER_FIWARE_SERVICE="fiware-service: ${FIWARE_SERVICE}"
HEADER_FIWARE_SERVICEPATH="fiware-servicepath: ${FIWARE_SERVICEPATH}"
